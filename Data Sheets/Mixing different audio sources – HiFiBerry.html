<!DOCTYPE html>
<!-- saved from url=(0088)https://support.hifiberry.com/hc/en-us/articles/207397665-Mixing-different-audio-sources -->
<html dir="ltr" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">


<title>Mixing different audio sources – HiFiBerry</title>
<meta name="csrf-param" content="authenticity_token">
<meta name="csrf-token" content="g8FCA9yJp6HOu0e+izHLsqpqTEzm7xO+SIkIA/9mPzhxaeR4aoORMaNoPk2FBr30c879tUh+Jz6xljiBjpEfuA==">
<meta name="description" content="The Raspberry Pi ASoc sound subsystem does not allow concurrent access to the sound card from multiple processes. Therefore if you..."><meta property="og:image" content="https://p3.zdassets.com/hc/settings_assets/816311/200178372/MS5fouxICYN3TbsacFoPPw-logo-larger.jpg">
<meta property="og:type" content="website">
<meta property="og:site_name" content="HiFiBerry">
<meta property="og:title" content="Mixing different audio sources">
<meta property="og:description" content="The Raspberry Pi ASoc sound subsystem does not allow concurrent access to the sound card from multiple processes. Therefore if you already have a process running that uses your HiFiBerry sound card...">
<meta property="og:url" content="http://support.hifiberry.com/hc/en-us/articles/207397665-Mixing-different-audio-sources">
<link rel="canonical" href="https://support.hifiberry.com/hc/en-us/articles/207397665-Mixing-different-audio-sources">
<link rel="alternate" hreflang="en" href="https://support.hifiberry.com/hc/en-us/articles/207397665-Mixing-different-audio-sources">

<link rel="stylesheet" media="all" href="./Mixing different audio sources – HiFiBerry_files/application-68649670e96e3bf905ef890c39a056c6.css" id="stylesheet">
<link rel="stylesheet" type="text/css" href="./Mixing different audio sources – HiFiBerry_files/style-72c3528372f2cb7f172042914cf2d0b7.css">
<link rel="shortcut icon" type="image/x-icon" href="https://p3.zdassets.com/hc/assets/favicon.ico">
<!--[if lt IE 9]>
  <script>
    //Enable HTML5 elements for <IE9
    'abbr article aside audio bdi canvas data datalist details dialog \
    figcaption figure footer header hgroup main mark meter nav output \
    progress section summary template time video'.replace(/\w+/g,function(n){document.createElement(n)});
  </script>
<![endif]-->
<script async="" src="https://www.google-analytics.com/analytics.js"></script><script src="./Mixing different audio sources – HiFiBerry_files/jquery-b60ddb79ff2563b75442a6bac88b00b5.js"></script><style></style>
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
 (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
 m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
 })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-49547302-1', 'auto');
ga('send', 'pageview');

</script>

<script type="text/javascript" src="https://hifiberry.agilecrm.com/stats/min/agile-min.js">
</script>
<script type="text/javascript">
 _agile.set_account('aqtib932b03iksifufmokh0i5a', 'hifiberry');
 _agile.track_page_view();
 _agile_execute_web_rules();
</script>
<script type="text/javascript" src="./Mixing different audio sources – HiFiBerry_files/script-72c3528372f2cb7f172042914cf2d0b7.js"></script>
<script type="text/javascript" charset="utf-8" async="" src="./Mixing different audio sources – HiFiBerry_files/SubscriptionControls-f3475f4b9cb917c2024882496fd0787d.js"></script></head>
<body class="community-enabled">
<nav class="user-nav">
<a class="login" data-auth-action="signin" role="button" href="https://support.hifiberry.com/hc/en-us/signin?return_to=https%3A%2F%2Fsupport.hifiberry.com%2Fhc%2Fen-us%2Farticles%2F207397665-Mixing-different-audio-sources&amp;locale=1">Sign in</a>
<a class="submit-a-request" href="https://support.hifiberry.com/hc/en-us/requests/new">Submit a request</a>
<a class="my-activities" href="https://support.hifiberry.com/hc/en-us/requests">My activities</a>
</nav>
<header class="header">
<div class="header-inner">
<form role="search" class="search" data-search="" action="https://support.hifiberry.com/hc/en-us/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="✓"><input type="search" name="query" id="query" placeholder="Search" aria-label="Search">
<input type="submit" name="commit" value="Search"></form>
<div class="logo"><a title="Home" href="https://support.hifiberry.com/hc/en-us">
<img src="./Mixing different audio sources – HiFiBerry_files/MS5fouxICYN3TbsacFoPPw-logo-larger.jpg" alt="Logo">
</a></div>
</div>
</header>
<main role="main">
<nav class="sub-nav clearfix">
<ol class="breadcrumbs">
<li title="HiFiBerry">
<a href="https://support.hifiberry.com/hc/en-us">HiFiBerry</a>
</li>
<li title="Knowledge base">
<a href="https://support.hifiberry.com/hc/en-us/categories/200848711-Knowledge-base">Knowledge base</a>
</li>
<li title="Software">
<a href="https://support.hifiberry.com/hc/en-us/sections/201675022-Software">Software</a>
</li>
</ol>
</nav>
<div class="clearfix">
<a class="article-subscribe" rel="nofollow" role="button" data-auth-action="signin" aria-selected="false" href="https://support.hifiberry.com/hc/en-us/articles/207397665-Mixing-different-audio-sources/subscription">Follow</a>
<article> 
<header class="article-header clearfix">
<h1> Mixing different audio sources</h1>
</header>
<div class="subtle-wrap">
<div class="article-body markdown">
<p>The Raspberry Pi ASoc sound subsystem does not allow concurrent access to the sound card from multiple processes. Therefore if you already have a process running that uses your HiFiBerry sound card to play back something, you can't have another process accessing the driver. Depending on the program you use, you will get a more or less readable error message. This even happens if one process isn't really playing something, but has blocked the sound card. Many programs do this.</p>
<p>There are some workaround to deal with this kind of problem. One is using Pulseaudio. However, while Pulseaudio is very powerful it is also extremely resource-intense on the Raspberry Pi.&nbsp;</p>
<p>Our user Steven has provided the following guide how to use the dmix ALSA module to create a ALSA device that allows simultaneous playback. We provide this guide "as is", we can't give individual support for it.</p>
<p><strong>1. Enable mmap</strong></p>
<p>The dmixer module uses a specific interface to send data to the sound card called mmap. The use of this is disabled on the Raspberry Pi by default as it is experimental. Note that we can't guarantee that this will work flawless with a specific kernel version. Future kernel might break this feature!</p>
<p>Add the following line to /boot/config.txt and reboot:</p>
<pre>dtoverlay=i2s-mmap</pre>
<p><strong>2. Configure&nbsp;/etc/asound.conf (or .asoundrc in your home directory)</strong></p>
<pre>pcm.hifiberry { <br>type hw card 0 <br>}

pcm.!default { <br>type plug <br>slave.pcm "dmixer" <br>}

pcm.dmixer { <br>type dmix <br>ipc_key 1024 <br>slave { <br>pcm "hifiberry" <br>channels 2 <br>} <br>}

ctl.dmixer { <br>type hw <br>card 0 <br>}</pre>
</div>
<div class="article-attachments">
<ul class="attachments">
</ul>
</div>
<footer class="article-footer clearfix">
<div class="article-vote">
<span class="article-vote-question">Was this article helpful?</span>
<div class="article-vote-controls">
<a rel="nofollow" class="article-vote-up" title="Yes" aria-selected="false" data-auth-action="signin" href="https://support.hifiberry.com/hc/en-us/signin?return_to=https%3A%2F%2Fsupport.hifiberry.com%2Fhc%2Fen-us%2Farticles%2F207397665-Mixing-different-audio-sources"></a>
<a rel="nofollow" class="article-vote-down" title="No" aria-selected="false" data-auth-action="signin" href="https://support.hifiberry.com/hc/en-us/signin?return_to=https%3A%2F%2Fsupport.hifiberry.com%2Fhc%2Fen-us%2Farticles%2F207397665-Mixing-different-audio-sources"></a>
</div>
<small class="article-vote-count">
<span class="article-vote-label">1 out of 1 found this helpful</span>
</small>
</div>
</footer>
<div class="article-more-questions">
Have more questions? <a href="https://support.hifiberry.com/hc/en-us/requests/new">Submit a request</a>
</div>
</div>
<section class="article-comments">
<h2>Comments</h2>
<div class="subtle-wrap">
</div>
</section>
</article>

</div>
</main>
<footer class="footer">
<div class="footer-inner">

</div>
</footer>

<script type="text/javascript" src="./Mixing different audio sources – HiFiBerry_files/en-us-e9636f54e909a07cbf366cd8414b9cff.js"></script>
<script src="./Mixing different audio sources – HiFiBerry_files/host.js" data-brand-id="745181" data-return-to="https://support.hifiberry.com/hc/en-us/articles/207397665-Mixing-different-audio-sources" data-theme="hc" data-locale="1" data-auth-origin="745181,true,true"></script>
<script type="text/javascript">
  /*

    Greetings sourcecode lurker!

    This is for internal Zendesk and legacy usage,
    we don't support or guarantee any of these values
    so please don't build stuff on top of them.

  */

  HelpCenter = {};
  HelpCenter.account = {"subdomain":"hifiberry","environment":"production","name":"HiFiBerry"};
  HelpCenter.user = {"identifier":"da39a3ee5e6b4b0d3255bfef95601890afd80709","email":null,"name":null,"role":"anonymous","avatar_url":"https://assets.zendesk.com/hc/assets/default_avatar.png","organizations":[],"groups":[]};
  HelpCenter.internal = {"asset_url":"//p3.zdassets.com/hc/assets/","current_session":{"locale":"en-us","csrf_token":"P2COQjJWfHZaJD1APG/roLq/vXABXR5qbNypDY+wf0HNyCg5hFxK5jf3RLMyWJ3mYxsMia/MKuqVw5mP/kdfwQ==","shared_csrf_token":null},"settings":{"zopim_enabled":false,"spam_filter_enabled":true},"current_record_id":"207397665","current_record_url":"/hc/en-us/articles/207397665-Mixing-different-audio-sources","current_record_title":"Mixing different audio sources","search_results_count":null,"current_text_direction":"ltr","current_brand_url":"https://hifiberry.zendesk.com","current_host_mapping":"support.hifiberry.com","current_path":"/hc/en-us/articles/207397665-Mixing-different-audio-sources","authentication_domain":"https://hifiberry.zendesk.com","show_autocomplete_breadcrumbs":true,"user_info_changing_enabled":false,"has_user_profiles_enabled":false,"has_anonymous_kb_voting":false,"has_advanced_upsell":false,"has_multi_language_help_center":true,"mobile_device":false,"mobile_site_enabled":true,"show_at_mentions":false,"has_copied_content":false,"embeddables_config":{"embeddables_web_widget":false,"embeddables_connect_ipms":false},"base_domain":"zendesk.com","answer_bot_subdomain":"static","plans_url":"https://support.hifiberry.com/hc/admin/plan?locale=en-us","manage_content_url":"https://support.hifiberry.com/hc/en-us","arrange_content_url":"https://support.hifiberry.com/hc/admin/arrange_contents?locale=en-us","general_settings_url":"https://support.hifiberry.com/hc/admin/general_settings?locale=en-us","user_segments_url":"https://support.hifiberry.com/hc/admin/user_segments?locale=en-us","import_articles_url":"https://support.hifiberry.com/hc/admin/import_articles?locale=en-us","has_community_enabled":true,"has_multiselect_field":true,"has_groups":true,"has_internal_sections":true,"has_organizations":true,"has_tag_restrictions":true,"has_answer_bot_enabled_in_classic":false,"has_answer_bot_web_form_enabled":false,"billing_url":"/access/return_to?return_to=https://hifiberry.zendesk.com/agent/admin/subscription","has_answer_bot":true,"has_guide_docs_importer":false,"answer_bot_management_url":"https://support.hifiberry.com/hc/admin/answer_bot?locale=en-us","is_account_owner":false,"has_theming_templates":false,"theming_center_url":"https://support.hifiberry.com/theming","theming_cookie_key":"hc-da39a3ee5e6b4b0d3255bfef95601890afd80709-preview","is_preview":false};
</script>
<script src="./Mixing different audio sources – HiFiBerry_files/hc_enduser-9139df836028ed564d214d45be98879f.js"></script>
<script type="text/javascript">
    (function() {
  var Tracker = {};

  Tracker.track = function(eventName, data) {
    var url = "https://support.hifiberry.com/hc/tracking/events?locale=en-us";

    var payload = {
      "event": eventName,
      "data": data,
      "referrer": document.referrer
    };

    var xhr = new XMLHttpRequest();

    xhr.open("POST", url, true);
    xhr.setRequestHeader("Content-Type", "application/json; charset=UTF-8");
    xhr.send(JSON.stringify(payload));
  };

    Tracker.track("article_viewed", "BAh7BzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoPYXJ0aWNsZV9pZGkEIaNcDA==--bc6392fd0a45ad468b3286b9caaf87fd20d995ca");
})();

  </script>

</body></html>